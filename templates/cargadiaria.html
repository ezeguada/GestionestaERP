{% extends "layout.html" %}

{% block title %}
    {{ type }}
{% endblock %}

{% block body %}

<div class="container">

    <!-- Carga de datos a la base de datos -->
     <h2>Carga diaria</h2>

    <div class="accordion accordion-flush border border-1 mb-2" style="background: #f8f9fa; box-shadow: 0px 4px 10px rgba(0,0,0,0.1);" id="accordionFlushCargadiaria">
        <div class="accordion-item">
            <h2 class="accordion-header text-center" id="flush-headingOne">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                Ingresar nueva carga
                </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushCargadiaria">
                <div class="accordion-body">
                    
                    <form action="/cargadiaria" method="post" class="container py-4 needs-validation mb-2"  novalidate>

                        <div class="row">
                            <div class="col">
                                <label for="fechaCarga" class="form-label fw-bold">Fecha</label>
                                <input style="min-width: 150px;" id="fechaCarga" name="fechaCarga" class="form-control" type="date" required />
                            </div>
                            <div class="col">
                                <label for="tipoCobro" class="form-label fw-bold">Tipo de cobro</label>
                                <select style="min-width: 150px;" class="form-select" name="tipoCobro" required>
                                    <option value="" selected>Tipo de cobro</option>
                                    <!-- {% for local in locales %}
                                    <option value="{{ local.nombre }}">{{ local.nombre }}</option>
                                    {% endfor %} -->
                                </select>
                            </div>
                            <div class="col">
                                <label for="valor" class="form-label fw-bold">Valor</label>
                                <input style="min-width: 150px;" type="number" class="form-control" id="valor" name="valor">
                            </div>
                            <div class="col">
                                <label for="tipoTrabajo" class="form-label fw-bold">Tipo de trabajo</label>
                                <select style="min-width: 150px;" class="form-select" name="tipoTrabajo" required>
                                    <option value="" selected>Tipo de trabajo</option>
                                    <!-- {% for local in locales %}
                                    <option value="{{ local.nombre }}">{{ local.nombre }}</option>
                                    {% endfor %} -->
                                </select>
                            </div>
                            <div class="col">
                                <label for="cantidad" class="form-label fw-bold">Cantidad</label>
                                <input style="min-width: 150px;" type="number" class="form-control" id="cantidad" name="cantidad">
                            </div>
                            <div class="col">
                                <label for="mpUtilizada" class="form-label fw-bold">MP Utilizada</label>
                                <select style="min-width: 150px;" class="form-select" name="mpUtilizada" required>
                                    <option value="" selected>MP Utilizada</option>
                                    <!-- {% for local in locales %}
                                    <option value="{{ local.nombre }}">{{ local.nombre }}</option>
                                    {% endfor %} -->
                                </select>
                            </div>
                        </div>


                        <div class="d-flex justify-content-center mt-3">
                            <button class="btn btn-dark" type="submit">Cargar al sistema</button>
                        </div>

                    </form>
                    

                </div>
            </div>
        </div>
    </div>


    

     <!-- Títulos de la tabla de carga diaria -->
    <table class="table table-striped table-hover table-sm">
        <thead>
            <tr>
                <th scope="col">Fecha</th>
                <th scope="col">Tipo de cobro</th>
                <th scope="col">Valor</th>
                <th scope="col">Tipo de trabajo</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Mercadería utilizada</th>
            </tr>
        </thead>
        <tbody>
            <!-- Parte de la tabla que hay que ITERAR con la base de datos del día de la fecha --> 
            
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>
            <tr>
                <td scope="row">4/7/2025 11:40</td>
                <td>Cobro</td>
                <td>$5000</td>
                <td>Tipo de laburo</td>
                <td>1</td>
                <td>Llave X</td>
            </tr>

        </tbody>
    </table>
</div>

{% endblock %}